namespace = german_unification

# Bismarck
german_unification.3 = {
	type = country_event
	placement = ROOT

	title = german_unification.3.t
	desc = german_unification.3.d
	flavor = german_unification.3.f

	gui_window = event_window_1char_tabloid

	left_icon = scope:bismarck_scope

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_portrait.dds"

	cooldown = { days = never_fire_again_modifier_time }

	duration = 3

	trigger = {
		NOT = { has_global_variable = bpm_bismark_spawn }
	}

	immediate = {
		set_global_variable = bpm_bismark_spawn
		ig:ig_landowners ?= {
			save_scope_as = junkers
			leader = {
				save_scope_as = bismarck_scope
			}
		}
	}

	option = {
		name = german_unification.3.a
		default_option = yes
		show_as_tooltip = {
			create_character = {
				template = PRU_otto_von_bismarck
			}
		}
		scope:bismarck_scope = {
			add_modifier = {
				name = bismarck_popular
			}
			if = {
				limit = {
					has_variable = memento_mori_immunity
				}
				remove_variable = memento_mori_immunity
			}
			set_variable = { name = memento_mori_immunity years = 30 }
		}
		add_modifier = {
			name = realpolitik
			days = long_modifier_time
		}

		ai_chance = {
			base = 95
		}
	}
	option = {
		name = german_unification.3.b
		show_as_tooltip = {
			create_character = {
				template = PRU_otto_von_bismarck
			}
		}
		scope:bismarck_scope = {
			add_modifier = {
				name = bismarck_unpopular
			}
		}
		add_modifier = {
			name = germany_aggressive_expansion
			days = long_modifier_time
		}

		ai_chance = {
			base = 5
		}
	}
}