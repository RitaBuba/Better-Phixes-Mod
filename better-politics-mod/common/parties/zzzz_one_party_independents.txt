# Special party for independents in a single-party state, designed to give the opposition a bit more clout.

one_party_independents = {
	color = { 138 138 138 }
	name = {
		first_valid = {
			triggered_desc = {
				desc = party_independents
				trigger = {
					always = yes
				}
			}
		}
	}
	
	icon = {
		default = "/gfx/interface/icons/political_parties/military.dds"
	}
	unlocking_technologies = {
	}
	# THIS IS RUN ONLY ONCE AT GAME START
	valid_for_country = {
		always = yes
	}
	available_for_interest_group = {
		bpm_interest_group_is_activated = yes
		owner = { has_law_or_variant = law_type:law_party_single }
	}
	join_weight = {
		value = {
			value = -5
			desc = "base_value"
		}
		if = { # Only care about the opposition to the Party (this is like 1984 frfr)
			limit = {
				has_ideology = ideology:ideology_against_single_party
			}
			add = {
				value = 10 
				desc = "bpm_one_party_opposes"
			}
		}
		if = { # Weaker members less likely to join
			limit = {
				is_powerful = no
			}
			add = {
				value = -3 
				desc = "bpm_one_party_opposes_weak"
			}
		}

		if = { # Ideological interest groups will suck either way, which means that they will be tiny. If they are mad, they will become independents.
			limit = {
				owner = {
					has_law = law_type:law_no_parties_allowed
					has_law = law_type:law_outlawed_dissent
				}
				bpm_ig_is_institutional = no
				NOR = {
					is_interest_group_type = ig_reactionaries
					is_interest_group_type = ig_fascists
				}
				NOT = {
					is_interest_group_type = ig_anarchists
				}
			}

			add = {
				value = 50
				desc = "from_independents_against_organic_democracy"
			}
		}

		if = { # Ideological interest groups will suck either way, which means that they will be tiny. If they are mad, they will become independents.
			limit = {
				owner = {
					has_law = law_type:law_no_parties_allowed
					NOT = {
						has_law = law_type:law_outlawed_dissent
					}
				}
				NOT = {
					is_interest_group_type = ig_anarchists
				}
				ig_approval = unhappy
			}

			add = {
				value = 25
				desc = "from_unsatisfied_with_the_existing_system"
			}
		}

		else_if = { # Ideological interest groups will suck either way, which means that they will be tiny. If they are mad, they will become independents.
			limit = {
				owner = {
					has_law = law_type:law_no_parties_allowed
					NOT = {
						has_law = law_type:law_outlawed_dissent
					}
				}
				NOT = {
					is_interest_group_type = ig_anarchists
				}
				ig_approval < unhappy
			}

			add = {
				value = 50
				desc = "from_very_unsatisfied_with_the_existing_system"
			}
		}
	}
}
